<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kejutan Spesial!</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        body {
            background: radial-gradient(circle, #3a3f4a 0%, #282c34 100%);
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            overflow-x: hidden;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
            color: #333;
            max-width: 420px;
            width: 85%;
            animation: slideUp FadeIn 0.8s ease-out;
            backdrop-filter: blur(10px);
            border: 3px solid #fecfef;
            position: relative;
        }

        /* --- Global --- */
        h1, h2 { color: #e91e63; }
        .btn {
            padding: 12px 30px;
            background: linear-gradient(45deg, #e91e63, #ff4081);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 15px;
            box-shadow: 0 5px 15px rgba(233, 30, 99, 0.4);
            z-index: 10;
        }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(233, 30, 99, 0.6); }
        .btn-pulse { animation: pulse 2s infinite; }

        /* --- Halaman Login --- */
        input[type="password"] {
            padding: 15px; width: 80%; border-radius: 30px; border: 2px solid #e91e63;
            font-size: 1.1em; text-align: center; margin-bottom: 20px; outline: none; transition: all 0.3s;
        }
        input[type="password"]:focus { box-shadow: 0 0 15px rgba(233, 30, 99, 0.5); border-color: #ff4081; }
        .error { color: #d32f2f; background-color: #ffcdd2; padding: 10px; border-radius: 10px; font-size: 0.9em; margin-bottom: 10px; display: none; font-weight: bold; animation: shake 0.4s ease-in-out; }
        #error-sticker { display: none; width: 120px; height: 120px; object-fit: contain; margin: 0 auto 15px auto; animation: shake 0.4s ease-in-out; }

        /* --- Halaman Transisi --- */
        #success-section { display: none; animation: popUp 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
        .success-img { width: 180px; margin-bottom: 15px; }

        /* --- Halaman Game Flappy Bird --- */
        #game-section { display: none; animation: zoomIn 0.8s ease-out; }
        canvas {
            /* TEMPAT GANTI BACKGROUND GAME */
            background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSf_sDkKhy-zZqH7lJv2KzPz_mP0Nf8HqL8xw&s'); 
            background-size: cover;
            background-position: center;
            border: 3px solid #e91e63;
            border-radius: 10px;
            margin: 10px auto;
            display: block;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .game-text { font-weight: bold; margin-bottom: 5px; color: #880e4f; }
        #skip-btn { background: #9e9e9e; font-size: 0.9em; padding: 8px 15px; margin-top: 10px; box-shadow: none; }

        /* --- Halaman Pertanyaan Jebakan --- */
        #question-section { 
            display: none; 
            min-height: 250px; 
            animation: zoomIn 0.5s ease-out; 
        }
        .btn-yes { background: linear-gradient(45deg, #4CAF50, #8BC34A); }
        .btn-no { background: #9e9e9e; position: absolute; transition: left 0.2s, top 0.2s; }

        /* --- Halaman Ulang Tahun --- */
        #birthday-section { display: none; animation: zoomIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        h1 { font-size: 2.5em; margin-bottom: 15px; background: linear-gradient(to right, #e91e63, #ff9a9e); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .birthday-img { width: 200px; height: 200px; object-fit: cover; border-radius: 50%; border: 5px solid #ff9a9e; box-shadow: 0 10px 20px rgba(233, 30, 99, 0.3); margin-bottom: 20px; animation: floatImg 3s ease-in-out infinite; }
        #message { display: none; margin-top: 25px; font-weight: 600; color: #880e4f; background: linear-gradient(135deg, #fecfef 0%, #ffffff 100%); padding: 20px; border-radius: 15px; border: 2px dashed #e91e63; animation: popUp 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55); }

        /* --- Animasi --- */
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes zoomIn { 0% { transform: scale(0.5); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        @keyframes popUp { 0% { transform: scale(0.8) translateY(20px); opacity: 0; } 100% { transform: scale(1) translateY(0); opacity: 1; } }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
        @keyframes floatImg { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-15px); } }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(233, 30, 99, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(233, 30, 99, 0); } 100% { box-shadow: 0 0 0 0 rgba(233, 30, 99, 0); } }
    </style>
</head>
<body>

    <div class="card" id="login-section">
        <h2>üîí Itulohhh Tanggal Sandinya</h2>
        <p>Kasih MASUKKKKK Sandinya Sayanggg!</p>
        <input type="password" id="password-input" placeholder="Kode akses...">
        <img id="error-sticker" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTROPb9ExOIHf-w_17nPdDFo6gDWKgc3g54MA&s" alt="Stiker Salah">
        <div class="error" id="error-msg">‚ùå Salah Sayangggg ihhh Na Lupai.</div>
        <button class="btn" onclick="checkPassword()">Buka Akses</button>
    </div>

    <div class="card" id="success-section">
        <h2>Yeayyy Benaaarr! üéâ</h2>
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSZx3dMKdhOL9Z7lfi8GTgAQ3tIJ9R58UyPIA&s" alt="Stiker Senang" class="success-img">
        <p style="font-size: 1.1em; margin-bottom: 20px;">Pinter banget sayangkuuu! Nahhh Lanjutttttt Mainnn</p>
        <button class="btn" onclick="goToGame()">InI BeB üéÆ</button>
    </div>

    <div class="card" id="game-section">
        <h2>Main Game Duluuuuuu üê•</h2>
        <p class="game-text">Harus 5 Skor Nya Sayangggkuuuu</p>
        <canvas id="gameCanvas" width="280" height="350"></canvas>
        <p class="game-text" id="game-score-display">Skor: 0 / 5</p>
        <button class="btn" id="skip-btn" onclick="winGame()">Tidak Atta üè≥Ô∏è</button>
    </div>

    <div class="card" id="question-section">
        <h2>Satu Pertanyaan Terakhir! üëÄ</h2>
        <p style="font-size: 1.2em; font-weight: bold; margin-bottom: 40px;">Sayangggg Jikah Ombe?</p>
        
        <div style="position: relative; height: 60px; display: flex; justify-content: space-around; align-items: center;">
            <button class="btn btn-yes" onclick="goToBirthday()">Yaa ‚ù§Ô∏è</button>
            <button class="btn btn-no" id="btn-no">Tidakk üíî</button>
        </div>
    </div>

    <div class="card" id="birthday-section">
        <h1>‚ú® Happy Birthday Sayangku Bocillkuu! ‚ú®</h1>
        <img src="1.jpeg" alt="Foto Yang Ulang Tahun" class="birthday-img">
        <p style="font-size: 1.2em;">Semoga TUHAN selalu menyertai Sayangkuuuu</p>
        <button class="btn btn-pulse" id="kado-btn" onclick="showMessage()">Klik untuk Buka Kado üéÅ</button>
        <p id="message">
            Selamat Ulang Tahun yaaa sayangggg! üéâ<br>
            Semoga panjang umur, sehat selalu, rezekinya lancar, dan semua impianmu di tahun ini tercapai, Skripsinya Juga Semoga Lancar....MINTA MAAF YA OMBE NDK BISA BALIKKKK. <br><br> 
            <i>Sayangggggggggggggggggggggggggggggggggggggggggggggggggggggg Sekaliiiiiiiiiiiiiiiii</i> ‚ú®üíñ
        </p>
    </div>

    <script>
        // === LOGIKA LOGIN & TRANSISI ===
        let salahBerapaKali = 0;

        function fireConfetti() {
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        }

        function checkPassword() {
            let inputPass = document.getElementById('password-input').value;
            let errorMsg = document.getElementById('error-msg');
            let errorSticker = document.getElementById('error-sticker');
            
            if (inputPass === "2102025") {
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('success-section').style.display = 'block';
                salahBerapaKali = 0; 
            } else {
                salahBerapaKali++;
                if (salahBerapaKali === 1) {
                    errorSticker.src = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTROPb9ExOIHf-w_17nPdDFo6gDWKgc3g54MA&s";
                    errorMsg.innerHTML = "‚ùå Salah Sayangggg ihhh Na Lupai.";
                } else if (salahBerapaKali === 2) {
                    errorSticker.src = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRV9vGn1O5djl_K-6uXgjCFnE3mv658VLvQrQ&s"; 
                    errorMsg.innerHTML = "‚ùå Kok salah lagiii? Coba ingat bae-bae sayang!";
                } else {
                    errorSticker.src = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR04xjMfxamvu7Sl2td6cBo0x5PaWvWdkFGog&s"; 
                    errorMsg.innerHTML = "‚ùå Aheeeeeeeeeeeeeeeeeeeeeee";
                }
                errorMsg.style.display = 'block';
                errorSticker.style.display = 'block';
                document.getElementById('password-input').value = "";
                setTimeout(() => { errorMsg.style.display = 'none'; errorSticker.style.display = 'none'; }, 3500);
            }
        }

        // === LOGIKA GAME FLAPPY BIRD (DIKEMBALIKAN KE EMOJI üê•) ===
        let canvas, ctx;
        let bird, pipes, score, gameLoop, isGameOver;
        const targetScore = 5;

        function goToGame() {
            document.getElementById('success-section').style.display = 'none';
            document.getElementById('game-section').style.display = 'block';
            initGame();
        }

        function initGame() {
            canvas = document.getElementById('gameCanvas');
            ctx = canvas.getContext('2d');
            
            canvas.addEventListener('mousedown', jump);
            canvas.addEventListener('touchstart', jump);
            
            resetGame();
        }

        function resetGame() {
            bird = { x: 50, y: 150, velocity: 0, gravity: 0.4, jumpStrength: -6, size: 20 };
            pipes = [];
            score = 0;
            isGameOver = false;
            document.getElementById('game-score-display').innerText = `Skor: ${score} / ${targetScore}`;
            
            clearInterval(gameLoop);
            gameLoop = setInterval(updateGame, 1000 / 60);
        }

        function jump(e) {
            e.preventDefault();
            if (isGameOver) {
                resetGame();
            } else {
                bird.velocity = bird.jumpStrength;
            }
        }

        function updateGame() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            bird.velocity += bird.gravity;
            bird.y += bird.velocity;

            // MENGGUNAKAN EMOJI BURUNG KEMBALI AGAR TIDAK ERROR LAYAR PUTIH
            ctx.font = "30px Arial";
            ctx.fillText("üê•", bird.x - 15, bird.y + 10);

            if (pipes.length === 0 || pipes[pipes.length - 1].x < canvas.width - 150) {
                let pipeY = Math.random() * (canvas.height / 2) + 20; 
                pipes.push({ x: canvas.width, y: pipeY, passed: false });
            }

            for (let i = 0; i < pipes.length; i++) {
                let p = pipes[i];
                p.x -= 2; 
                let gap = 110; 
                
                ctx.fillStyle = "#8bc34a";
                ctx.fillRect(p.x, 0, 40, p.y);
                ctx.strokeRect(p.x, 0, 40, p.y);
                
                ctx.fillRect(p.x, p.y + gap, 40, canvas.height);
                ctx.strokeRect(p.x, p.y + gap, 40, canvas.height);

                let hitPipe = (bird.x + 10 > p.x && bird.x - 10 < p.x + 40) && 
                              (bird.y - 10 < p.y || bird.y + 10 > p.y + gap);
                let hitGround = bird.y + 15 > canvas.height || bird.y - 15 < 0;

                if (hitPipe || hitGround) {
                    gameOver();
                }

                if (p.x < bird.x && !p.passed) {
                    score++;
                    p.passed = true;
                    document.getElementById('game-score-display').innerText = `Skor: ${score} / ${targetScore}`;
                    
                    if (score >= targetScore) {
                        winGame();
                    }
                }
            }

            if (pipes.length > 0 && pipes[0].x < -40) {
                pipes.shift();
            }
        }

        function gameOver() {
            isGameOver = true;
            clearInterval(gameLoop);
            ctx.fillStyle = "rgba(0,0,0,0.5)";
            ctx.fillRect(0,0,canvas.width, canvas.height);
            ctx.fillStyle = "white";
            ctx.font = "20px Arial";
            ctx.textAlign = "center";
            ctx.fillText("Ndk Mutauk Main üò≠", canvas.width/2, canvas.height/2);
            ctx.fillText("Ulang BEB", canvas.width/2, canvas.height/2 + 30);
        }

        function winGame() {
            clearInterval(gameLoop);
            document.getElementById('game-section').style.display = 'none';
            // Pindahkan ke Halaman Pertanyaan Jebakan
            document.getElementById('question-section').style.display = 'block';
            
            // Set posisi awal tombol 'Tidakk' agar normal dulu
            const btnNo = document.getElementById('btn-no');
            btnNo.style.left = '60%';
            btnNo.style.top = '0px'; 
        }

        // === LOGIKA TOMBOL 'TIDAK' KABUR ===
        const btnNo = document.getElementById('btn-no');
        
        function moveBtnNo(e) {
            e.preventDefault(); // Biar gak kepencet walau disenggol
            const card = document.getElementById('question-section');
            
            // Hitung batas maksimal tombol bisa bergerak (di dalam area kotak putih)
            const maxX = card.clientWidth - btnNo.clientWidth - 40;
            const maxY = card.clientHeight - btnNo.clientHeight - 40;
            
            // Acak koordinat baru
            const newX = Math.max(20, Math.floor(Math.random() * maxX));
            const newY = Math.max(20, Math.floor(Math.random() * maxY));
            
            // Pindahkan tombolnya
            btnNo.style.left = newX + 'px';
            btnNo.style.top = newY + 'px';
        }

        // Kalau kursor mendekat (di laptop) atau disentuh (di HP), dia lari!
        btnNo.addEventListener('mouseover', moveBtnNo);
        btnNo.addEventListener('touchstart', moveBtnNo);


        // === LOGIKA KADO ULANG TAHUN ===
        function goToBirthday() {
            // Kalau jawab "Yaa", baru kado dibuka!
            document.getElementById('question-section').style.display = 'none';
            document.getElementById('birthday-section').style.display = 'block';
            fireConfetti();
        }

        function showMessage() {
            document.getElementById('message').style.display = 'block';
            document.getElementById('kado-btn').classList.remove('btn-pulse');
            fireConfetti();
            setTimeout(fireConfetti, 400);
        }
    </script>

</body>
</html>
